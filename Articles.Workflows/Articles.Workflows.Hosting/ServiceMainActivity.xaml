<Activity mc:Ignorable="sap" x:Class="Articles.Workflows.Hosting.ServiceMainActivity" sap:VirtualizedContainerService.HintSize="660,676" mva:VisualBasic.Settings="Assembly references and imported namespaces for internal implementation" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="clr-namespace:Microsoft.VisualBasic;assembly=System" xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities" xmlns:p="http://schemas.microsoft.com/netfx/2009/xaml/servicemodel" xmlns:s="clr-namespace:System;assembly=mscorlib" xmlns:s1="clr-namespace:System;assembly=System" xmlns:s2="clr-namespace:System;assembly=System.Xml" xmlns:s3="clr-namespace:System;assembly=System.Core" xmlns:s4="clr-namespace:System;assembly=System.ServiceModel" xmlns:sa="clr-namespace:System.Activities;assembly=System.Activities" xmlns:sad="clr-namespace:System.Activities.Debugger;assembly=System.Activities" xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation" xmlns:scg="clr-namespace:System.Collections.Generic;assembly=System" xmlns:scg1="clr-namespace:System.Collections.Generic;assembly=System.ServiceModel" xmlns:scg2="clr-namespace:System.Collections.Generic;assembly=System.Core" xmlns:scg3="clr-namespace:System.Collections.Generic;assembly=mscorlib" xmlns:sd="clr-namespace:System.Data;assembly=System.Data" xmlns:sl="clr-namespace:System.Linq;assembly=System.Core" xmlns:ssa="clr-namespace:System.ServiceModel.Activities;assembly=System.ServiceModel.Activities" xmlns:st="clr-namespace:System.Text;assembly=mscorlib" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
  <Flowchart DisplayName="Sample WCF service" sad:XamlDebuggerXmlReader.FileName="D:\Projects\Präsentatonen\Workflow 4\Articles.Workflows\Articles.Workflows.Hosting\ServiceMainActivity.xaml" sap:VirtualizedContainerService.HintSize="620,636">
    <Flowchart.Variables>
      <Variable x:TypeArguments="x:String" Name="GivenMessage" />
      <Variable x:TypeArguments="x:String" Name="MessageFromCmd" />
    </Flowchart.Variables>
    <sap:WorkflowViewStateService.ViewState>
      <scg3:Dictionary x:TypeArguments="x:String, x:Object">
        <x:Boolean x:Key="IsExpanded">False</x:Boolean>
        <av:Point x:Key="ShapeLocation">270,2.5</av:Point>
        <av:Size x:Key="ShapeSize">60,75</av:Size>
        <av:PointCollection x:Key="ConnectorLocation">300,77.5 300,107.5 300,154.5</av:PointCollection>
        <x:Double x:Key="Width">605.5</x:Double>
      </scg3:Dictionary>
    </sap:WorkflowViewStateService.ViewState>
    <Flowchart.StartNode>
      <FlowStep x:Name="__ReferenceID2">
        <sap:WorkflowViewStateService.ViewState>
          <scg3:Dictionary x:TypeArguments="x:String, x:Object">
            <av:Point x:Key="ShapeLocation">200,154.5</av:Point>
            <av:Size x:Key="ShapeSize">200,51</av:Size>
            <av:PointCollection x:Key="ConnectorLocation">300,205.5 300,235.5 424,235.5 424,122.04 300,122.04 300,154.5</av:PointCollection>
          </scg3:Dictionary>
        </sap:WorkflowViewStateService.ViewState>
        <Pick DisplayName="Listen to service calls" sap:VirtualizedContainerService.HintSize="200,51">
          <sap:WorkflowViewStateService.ViewState>
            <scg3:Dictionary x:TypeArguments="x:String, x:Object">
              <x:Boolean x:Key="IsExpanded">True</x:Boolean>
            </scg3:Dictionary>
          </sap:WorkflowViewStateService.ViewState>
          <PickBranch DisplayName="Command Print" sap:VirtualizedContainerService.HintSize="285,318">
            <PickBranch.Trigger>
              <p:Receive CanCreateInstance="True" DisplayName="Receive data from Webservice interface" sap:VirtualizedContainerService.HintSize="255,100" OperationName="Print" ServiceContractName="ServiceMainActivity">
                <sap:WorkflowViewStateService.ViewState>
                  <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  </scg3:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <p:ReceiveParametersContent>
                  <OutArgument x:TypeArguments="x:String" x:Key="Message">[GivenMessage]</OutArgument>
                </p:ReceiveParametersContent>
              </p:Receive>
            </PickBranch.Trigger>
            <WriteLine DisplayName="Print given message" sap:VirtualizedContainerService.HintSize="255,100" Text="[&quot;[Print] Message received: &quot; + GivenMessage]">
              <sap:WorkflowViewStateService.ViewState>
                <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg3:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </WriteLine>
          </PickBranch>
          <PickBranch DisplayName="Command PrintExtended" sap:VirtualizedContainerService.HintSize="285,318">
            <PickBranch.Trigger>
              <p:Receive CanCreateInstance="True" DisplayName="Receive data from Webservice interface" sap:VirtualizedContainerService.HintSize="255,100" OperationName="PrintExtended" ServiceContractName="ServiceMainActivity">
                <sap:WorkflowViewStateService.ViewState>
                  <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                  </scg3:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <p:ReceiveParametersContent>
                  <OutArgument x:TypeArguments="x:String" x:Key="Message">[GivenMessage]</OutArgument>
                </p:ReceiveParametersContent>
              </p:Receive>
            </PickBranch.Trigger>
            <WriteLine DisplayName="Print given message" sap:VirtualizedContainerService.HintSize="255,100" Text="[&quot;[PrintExtended] Message received: &quot; + GivenMessage]">
              <sap:WorkflowViewStateService.ViewState>
                <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                  <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                </scg3:Dictionary>
              </sap:WorkflowViewStateService.ViewState>
            </WriteLine>
          </PickBranch>
          <PickBranch DisplayName="Command Read" sap:VirtualizedContainerService.HintSize="230,318">
            <sap:WorkflowViewStateService.ViewState>
              <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                <x:Boolean x:Key="IsExpanded">True</x:Boolean>
                <x:Boolean x:Key="IsPinned">False</x:Boolean>
              </scg3:Dictionary>
            </sap:WorkflowViewStateService.ViewState>
            <PickBranch.Trigger>
              <Sequence DisplayName="Receive - Send logic" sap:VirtualizedContainerService.HintSize="200,100">
                <Sequence.Variables>
                  <Variable x:TypeArguments="p:CorrelationHandle" x:Name="__ReferenceID0" Name="SendReceiveHandle" />
                </Sequence.Variables>
                <sap:WorkflowViewStateService.ViewState>
                  <scg3:Dictionary x:TypeArguments="x:String, x:Object">
                    <x:Boolean x:Key="IsExpanded">False</x:Boolean>
                    <x:Boolean x:Key="IsPinned">False</x:Boolean>
                  </scg3:Dictionary>
                </sap:WorkflowViewStateService.ViewState>
                <p:Receive x:Name="__ReferenceID1" CanCreateInstance="True" sap:VirtualizedContainerService.HintSize="255,90" OperationName="Read" ServiceContractName="ServiceMainActivity">
                  <p:Receive.CorrelationInitializers>
                    <p:RequestReplyCorrelationInitializer>
                      <p:RequestReplyCorrelationInitializer.CorrelationHandle>
                        <InArgument x:TypeArguments="p:CorrelationHandle">
                          <VariableValue x:TypeArguments="p:CorrelationHandle" Variable="{x:Reference __ReferenceID0}" />
                        </InArgument>
                      </p:RequestReplyCorrelationInitializer.CorrelationHandle>
                    </p:RequestReplyCorrelationInitializer>
                  </p:Receive.CorrelationInitializers>
                  <p:ReceiveParametersContent>
                    <OutArgument x:TypeArguments="x:String" x:Key="Message">[GivenMessage]</OutArgument>
                  </p:ReceiveParametersContent>
                </p:Receive>
                <WriteLine sap:VirtualizedContainerService.HintSize="255,61" Text="Input Requested:" />
                <InvokeMethod sap:VirtualizedContainerService.HintSize="255,130" MethodName="ReadLine" TargetType="s:Console">
                  <InvokeMethod.Result>
                    <OutArgument x:TypeArguments="x:String">[MessageFromCmd]</OutArgument>
                  </InvokeMethod.Result>
                </InvokeMethod>
                <p:SendReply Request="{x:Reference __ReferenceID1}" DisplayName="SendReplyToReceive" sap:VirtualizedContainerService.HintSize="255,90">
                  <p:SendParametersContent>
                    <InArgument x:TypeArguments="x:String" x:Key="Line">[MessageFromCmd]</InArgument>
                  </p:SendParametersContent>
                </p:SendReply>
              </Sequence>
            </PickBranch.Trigger>
          </PickBranch>
        </Pick>
      </FlowStep>
    </Flowchart.StartNode>
    <x:Reference>__ReferenceID2</x:Reference>
  </Flowchart>
</Activity>